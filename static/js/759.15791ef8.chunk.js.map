{"version":3,"file":"static/js/759.15791ef8.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/Movies.module.css?1ace","Pages/Movies.jsx","api.js","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__ZkZ-n\",\"wrap\":\"Movies_wrap__urvk1\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovies } from 'api';\nimport Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport css from './Movies.module.css';\nimport { Button, TextField } from '@mui/material';\nimport SearchIcon from '@mui/icons-material/Search';\n\nexport default function Movies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [searchMovies, setSearchMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    if (query) {\n      const fetchQueryMovies = async () => {\n        try {\n          setIsLoading(true);\n          setError(false);\n          const { results } = await fetchSearchMovies(1, query);\n          setSearchMovies(results);\n        } catch (error) {\n          setError(true);\n        } finally {\n          setIsLoading(false);\n        }\n      };\n\n      fetchQueryMovies();\n    }\n  }, [query]);\n\n  const handlSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: e.target[0].value });\n    e.target[0].value = '';\n  };\n\n  return (\n    <main>\n      <form onSubmit={handlSubmit} className={css.form}>\n        <TextField\n          type=\"text\"\n          name=\"query\"\n          id=\"outlined-basic\"\n          variant=\"outlined\"\n          size=\"small\"\n        />\n        <Button\n          variant=\"contained\"\n          type=\"outlined\"\n          startIcon={<SearchIcon fontSize=\"large\" />}\n        >\n          Search\n        </Button>\n      </form>\n      <div className={css.wrap}>{isLoading && <Loader />}</div>\n      {error && <p>Something went wrong, reload the page</p>}\n      {!isLoading && !error && searchMovies.length > 0 && (\n        <MoviesList movies={searchMovies} />\n      )}\n    </main>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = 'c0cdc1a14e8a53ae3d25369920c09f3b';\n// axios.defaults.baseURL = 'https://developers.themoviedb.org/3/';\n\nexport const fetchTrendMovies = async () => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n    // `https://api.themoviedb.org/3/search/movie?api_key=c0cdc1a14e8a53ae3d25369920c09f3b&language=en-US&query=batman&page=1`\n  );\n  return data;\n};\n\nexport const fetchSearchMovies = async (page, query) => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&page=${page}&query=${query}`\n  );\n  return data;\n};\n\nexport const fetchMovie = async id => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${Number(id)}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchCast = async id => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${Number(\n      id\n    )}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchReview = async id => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${Number(\n      id\n    )}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\"};","import { NavLink, useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\nimport css from './MoviesList.module.css';\n\nconst StyledNavLink = styled(NavLink)`\n  font-size: 20px;\n  font-weight: 500;\n  text-decoration: none;\n  color: black;\n  transition: color 0.2s ease-in-out;\n\n  &.active,\n  &:hover,\n  &:focus {\n    color: orange;\n    text-decoration: underline;\n  }\n`;\n\nexport default function MoviesList({ movies }) {\n  const location = useLocation();\n  return (\n    <ul className={css.list}>\n      {movies.map(movie => {\n        return (\n          <li key={movie.id} >\n            <StyledNavLink\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n            >\n              {movie.title}\n            </StyledNavLink>\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n"],"names":["Movies","useSearchParams","searchParams","setSearchParams","query","get","useState","searchMovies","setSearchMovies","isLoading","setIsLoading","error","setError","useEffect","fetchQueryMovies","fetchSearchMovies","results","onSubmit","e","preventDefault","target","value","className","css","TextField","type","name","id","variant","size","Button","startIcon","Search","fontSize","Loader","length","MoviesList","movies","API_KEY","fetchTrendMovies","axios","data","page","fetchMovie","Number","fetchCast","fetchReview","StyledNavLink","styled","NavLink","location","useLocation","map","movie","to","state","from","title"],"sourceRoot":""}
{"version":3,"file":"static/js/756.1e4257a3.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/MovieDetails.module.css?40ae","Pages/MovieDetails.jsx","api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__WJiF1\",\"btnText\":\"MovieDetails_btnText__v554P\",\"img\":\"MovieDetails_img__g89Sb\",\"info\":\"MovieDetails_info__6dJh8\",\"title\":\"MovieDetails_title__VMUBR\",\"score\":\"MovieDetails_score__FUc8e\",\"overviewTitle\":\"MovieDetails_overviewTitle__nN2gK\",\"overview\":\"MovieDetails_overview__R51Gr\",\"genres\":\"MovieDetails_genres__fahw+\",\"containerLink\":\"MovieDetails_containerLink__z5hnf\",\"wrapLoader\":\"MovieDetails_wrapLoader__j9Szs\",\"wrap\":\"MovieDetails_wrap__L8lXe\",\"text\":\"MovieDetails_text__XyYHJ\",\"list\":\"MovieDetails_list__Tp1Az\"};","import { NavLink,Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { fetchMovie } from 'api';\nimport Loader from 'components/Loader/Loader';\nimport { useState, useEffect, useRef } from 'react';\nimport css from './MovieDetails.module.css';\nimport styled from 'styled-components';\nimport { Button } from '@mui/material';\n\nconst StyledNavLink = styled(NavLink)`\n  font-size: 20px;\n  font-weight: 700;\n  line-height: 1.7;\n  text-decoration: none;\n  color: black;\n  transition: color 0.2s ease-in-out;\n\n  &.active,\n  &:hover,\n  &:focus {\n    color: orange;\n    text-decoration: underline;\n  }\n`;\n\nexport default function MovieDetails() {\n  const [movie, setMovie] = useState([]);\n  const [poster, setPoster] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/movies');\n  useEffect(() => {\n    const fetchOneMovie = async () => {\n      try {\n        setIsLoading(true);\n        setError(false);\n        const results = await fetchMovie(movieId);\n        setMovie(results);\n        setPoster(`https://image.tmdb.org/t/p/w400${results.poster_path}`);\n      } catch (error) {\n        setError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchOneMovie();\n  }, [movieId]);\n  return (\n    <>\n      <div className={css.wrapLoader}>{isLoading && <Loader />}</div>\n      {error && <p>Something went wrong, reload the page</p>}\n      {!isLoading && !error && (\n        <main>\n          <div className={css.container}>\n            <Button type=\"button\" variant=\"contained\">\n              <Link to={backLinkHref.current}>\n                <span className={css.btnText}>Go Back</span>\n              </Link>\n            </Button>\n            <div className={css.info}>\n              {movie.poster_path && (\n                <img src={poster} alt=\"\" className={css.img} />\n              )}\n              {!movie.poster_path && (\n                <img\n                  className={css.img}\n                  src=\"https://kartinki.pibig.info/uploads/posts/2023-04/1681549820_kartinki-pibig-info-p-zaglushka-kartinka-arti-krasivo-2.jpg\"\n                  alt=\"\"\n                />\n              )}\n              <div>\n                <h1 className={css.title}>\n                  {movie.title} (\n                  {movie.release_date && movie.release_date.slice(0, 4)})\n                </h1>\n                <p className={css.score}>\n                  User Score:{' '}\n                  {movie.vote_average && Math.round(movie.vote_average * 10)}%\n                </p>\n                <h3>Overview</h3>\n                <p className={css.overview}>{movie.overview}</p>\n                <h3>Genres</h3>\n                <p className={css.genres}>\n                  {movie.genres &&\n                    movie.genres.map(genre => genre.name).join(', ')}\n                </p>\n              </div>\n            </div>\n            <div className={css.containerLink}>\n              <div className={css.wrap}>\n                <p className={css.text}>Additional information:</p>\n                <ul className={css.list}>\n                  <li>\n                    <StyledNavLink to=\"cast\">Cast</StyledNavLink>\n                  </li>\n                  <li>\n                    <StyledNavLink to=\"reviews\">Reviews</StyledNavLink>\n                  </li>\n                </ul>\n              </div>\n              <Outlet />\n            </div>\n          </div>\n        </main>\n      )}\n    </>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = 'c0cdc1a14e8a53ae3d25369920c09f3b';\n// axios.defaults.baseURL = 'https://developers.themoviedb.org/3/';\n\nexport const fetchTrendMovies = async () => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n    // `https://api.themoviedb.org/3/search/movie?api_key=c0cdc1a14e8a53ae3d25369920c09f3b&language=en-US&query=batman&page=1`\n  );\n  return data;\n};\n\nexport const fetchSearchMovies = async (page, query) => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&page=${page}&query=${query}`\n  );\n  return data;\n};\n\nexport const fetchMovie = async id => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${Number(id)}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchCast = async id => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${Number(\n      id\n    )}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchReview = async id => {\n  const { data } = await axios.get(\n    `https://api.themoviedb.org/3/movie/${Number(\n      id\n    )}/reviews?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};"],"names":["StyledNavLink","styled","NavLink","MovieDetails","useState","movie","setMovie","poster","setPoster","isLoading","setIsLoading","error","setError","movieId","useParams","location","useLocation","backLinkHref","useRef","state","from","useEffect","fetchOneMovie","fetchMovie","results","poster_path","className","css","Loader","Button","type","variant","to","current","src","alt","title","release_date","slice","vote_average","Math","round","overview","genres","map","genre","name","join","API_KEY","fetchTrendMovies","axios","data","fetchSearchMovies","page","query","id","Number","fetchCast","fetchReview"],"sourceRoot":""}